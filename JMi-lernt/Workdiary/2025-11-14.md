[[2025-11-13]] <-> [[17-21 November]]

| Zeit  | Termin |
| ----- | ------ |
| 8:00  | Kommen |
| 16:15 | Gehen  |
# Aufgaben
- [x] Tags für Aufgaben und Notizen von gestern
- [x] Sicherheitsprobleme lösen
	- [x] Die Firewall ist aus
	- [x] der sa Account ist zu mächtig
		- [x] Neuen Account mit den benötigten Rechten erstellen
	- [x] Das PW steht im Klartext im Script
		- [x] deshalb schlägt die MS Lernplattform .env vor 
		- [x] Gitignor
	- [x] Dokumentieren
- [ ] print 50 calls - Anrufer, Ziel, Start und Endzeitpunkt, Callid
	- [ ] last calls sind interessanter als top
- [x] Api Verbindung mit Authentifizierung auf der SwyxWare mit Python
	
- [ ] Obsidian Tamplates um den Workflow zu erleichtern

# Sicherheitsprobleme lösen
#MSSQL-Server #Firewall #git #python #Rollen #vm 
## Recherche
### Passwort und Username sichern
- Welche Methoden gibt es? #Umgebungsvariable
1. Vorschlag von MSLearn mit einer Umgebungsvariablen
Die Zugangsdaten zur DB werden in einem SQL_Connection_String gespeichert. Diese String wird in einer .env Datei im gleichen Verzeichnis  gespeichert. Der Abruf erfolgt über 
```
load_dotenv()
conn = connect(getenv("SQL_CONNECTION_STRING"))
```
Dabei werden die Liberys 
```
from os import getenv
from dotenv import load_dotenv
```
von Python genutzt.
2. Weitere Sicherung #gitignore
Um den String weiter zu schützen, wird eine `gitignore` Datei erstellt. Diese verhindert, dass die .env mit gesichert wird und auf einem öffentlichen Repository
zugänglich wird. Dabei ist darauf zu achten, das die Datei mit dem PW nicht commitet wird. Wenn sie gelöscht wird, bleibt ist sie über die History des Repositorys noch zu finden. Das ist besonders bei öffentlichen Repros gefährlich.
- Vorgehen:
- `.env` wird im gleichen Verzeichnis wie das Script gespeichert.
- `gitignore` wird in dem Verzeichnis von dem aus Git gestartet wird abgelegt. Die Datei ist eine Textdatei, in der die zu ignorierenden Datein und Verzeichnisse aufgenommen werden. Das zu gehören tmp Datein und ähnliches.
	- Beispiel einer Gitignore von Georg "C:\Users\juliane.bonenkamp\src\gitignore 1"
	- Best practis Neuerungen kommen immer ans Ende. 
- Vor dem `add . ` mit `git status` überprüfen, ob die Datei wirklich ignoriert wird. Der Pfad muss vielleicht angepasst werden. Dabei mit Wildcards arbeiten. 
### Userrechte
Auf der VMware - auf meinem WindowsServer - auf meinem SQLServer
In Microsofr SQL Server Managment Studio
- Neuen User anlegen

 ![[Screenshot 2025-11-13 162947.png]]

- Rechts click auf Login
	- Name
	-  SQL Server authentication ON
		- PW - Eingabe erzwingen
	- Sever Roles
		- public
	- User Mapping
		- User mapped to this login -  DB für den User auswählen
		- Database role membership Public und db_owner
			- db_owner hat lese und schreibrechte
	- Status 
		- Permission to connect
		- Login Enabeld
### Firewall
Auf dem WindowsServer Windows-Sichertheit öffnen ( über Suche Firewall)
Firewalls für alle drei Netzwerke wieder aktivieren
Um Regeln zu erstellen gibt es zwei Wege - Zugriff von App druch Firewall zulassen oder über die Erweiterten Einstellungen.
1. Zugriff von App durch Firewall zulassen
	- Einstellungen ändern
	- App aus der Liste auswählen
		- Wenn die App nicht in der Liste ist - Andere App zulassen ...
			- Die `exe` der entsprechenden App suchen und zur Liste Hinzufügen
- Mit dem Skript prüfen, ob der Zugang klappt
1. Über die Erweiterten Einstellungen
	1. Öffnet den Windows Defender Firewall
		![[Screenshot 2025-11-13 140811 1.png]]
- Eingehende Regeln - Neue Regel 
- 
![[Screenshot 2025-11-14 134721.png]]
- In Beispiel Fall geht es über die Freigabe des  Ports
	- Protokoll auswählen TCP oder UDP
	- Lokalen Port eintragen
		- Eigenschaften der Regel
			- Name
			- Aktion - Verbindung zulassen
- Mit dem Skript testen ob der Code keinen Fehler wirft
**So weit, so gut . ;-)**

#  Api Verbindung mit Authentifizierung auf der SwyxWare mit Python
#api #Swyx  
'Swagger' - Weboberfäche um Anfragen an die Swyxware zu stellen
Swyx Controllcenter für die Swyxware auf meiner VM
https://192.168.47.128:9201/ippbx/swagger/ui/index


