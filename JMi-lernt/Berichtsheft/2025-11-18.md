[[2025-11-17]] <->

| Time  | Termin       | Ort  |
| ----- | ------------ | ---- |
| 7:30  | Kommen       | Home |
| 13.00 | Joint        |      |
| 13:15 | Azubi Dailly |      |
| 16:15 | Gehen        |      |
- [ ] Sicherung
# Aufgaben
- [x] DELET den Konferanzraum 
- [x] Location
	- [x] Abfragen
	- [x] Anlegen
	- [x] Ändern
	- [x] löschen
# Arbeit mit der API der Swxyware
#api #python #JSON #swagger 
## Delet den Konferenzraum
#workflow 
- Was brauche ich alles?
	- Wie sieht das in Swagger aus?
		- Responescode - 200 - alles ok
		- Das sind die http Responescodes
	- Code ab tippen um ihn zu lernen.
### Ergebnis
#print #KontrolleCode
Ausgaben zur Kontrolle:
`print(response.json())`
Liefert ein JSON-Objekt zurück. Das ist an den unterschiedlichen Stellen im Code, unterschiedlich gefüllt.
Die `CreateConferenceRoom` Funktion liefert für `print(response.json())` die `InternalNumberID` als JSON Objekt zurück. Das ist der PK des DS.
Für `SetConfernceRoom` und `DelConferenceRoom` ist das JSON Objekt leer. Das lässt sich mit `print(response.text)` überprüfen.
Ob die Funktion erfolgreich durchgelaufen ist, zeigt `print(respons.status_conde)`. Der die HTTP-Response anzeigt. 200 ist ok.
Die `ConnectDB()` Funktion gibt mit `print(selctErgebnis)` den DS aus der SQL-Abfrage aus. Da in der DB die Pin nicht im Klartext gespeichert ist, wird nur die verschlüsselte Pin angezeigt. Wenn diese geändert wird, ist die Änderung über den `print(selectErgebnis)` nicht zu erkennen. Kann SQL nicht nach der Pin suchen.
`PrintConferencRooms` gibt alle DS der URL an "tenant/conferencerooms" aus. Das ist keine Tabelle. Die Konferenzräume ist ein View. Sie gibt alle Inhalte als Elemente aus JSON in {{}}geschweiften Klammern aus. Gibt als einzige Möglichkeit alle DS im Klartext aus.
### Python Request Module
 Das Request Module ermöglicht es HTTP anfragen an Webseiten mit Python zu schicken. Es hat wenige Methoden. Die wichtigsten sind:
 `delete(url,args)
 `get(url,params,args)`
 `post(url,data,json,args)
 `put(url,data,args)
 Die HTTP Anfrage liefert ein ResopnseObjekt zurück. Dieses Objekt `requests.Response()` enthält die Antwort des Servers auf die HTTPAnfrage. Das kann auch eine JSONObjekt sein, aber nur wenn auch ein JSON, wenn der Server JSOn zurück gibt. JSOn wird als Transfairsprache verwendet. Da sie weniger Overhead als z.B. XML hat der Nachteil ist, dass wegen dem geringen Overhead, keine Überprüfungsdaten mit geliefert werdn. Die meisten API verwenden JSON. Es ist sinn voll sich über die respons.header eienn Überblick zu verschaffen.
 Die Propertys und Methoden:
 https://www.w3schools.com/python/ref_requests_response.asp
 Über den respons.headers können die Informatione des Headers abgerufen werden. Damit kann z.B. der Contenttyp ermittelt werden.
 [response.headers - Python requests - GeeksforGeeks](https://www.geeksforgeeks.org/python/response-headers-python-requests/)

## Location als weiters Beispiel
### Vorgehen
 - Mit Swagger testen
 - Was passiert in der Swyxware
 - Code umschreiben und aufräumen
 - Inhalte
	 `{`
	  `"CountryCode": "49",`  
	   `"AreaCode": "231",`  
	    `"InternationalCallPrefix": "00",`  
	  `"LongDistCallPrefix": "0",`  
	  `"PublicAccessPrefix": "0",`  
	  `"Culture": "de-DE",`  
	  `"DefaultLocation": true,`  
	  `"TimeZoneId": "W. Europe Standard Time",`  
	  `"UndeliverableCallsNumber": "",`  
	  `"Description": "Irgendein Text",`  
	  `"Name": "Meine Location",`  
	  `"MaxInterlocationCalls": 10,`  
	  `"Url": ""`
	 `}`

**Was mir noch fehlt die ID als variable speichern 