[[2025-10-27]] <->
[[JMi Datenbank Projekt toDo's]]
| Zeit | Termin |
|------|---------|
|8:00 | kommen |
|13:15 | Daily |
|16:45| gehen |
#python #sql #dbmodel #Variablen 
#### DB leeren
- `turncate` alle Tabellen. Drop löscht die Tabellen mit
- Porblem:
	- durch die Verschachtelung hängt er an einem constraint fest.
	- Diesen finden und setzen cascading 
		- das Löst das Problem nicht
		- Fremdschlüsselüberprüfung ausschalten

#### Eindeutige Variablen
- von hintern aufrollen habe ich alle Variablen die ich in einer Funktion nutze übergeben?
	- innerhalb der Funktion wechseln sie den Namen. Damit sie eindeutig in Funktion und Inhalt sind.
	-  Hausbauen
	| Raum | Zimmer| Schlafzimmer |
	| For | Funktion1 | Funktion 2|

	 Raum in Haus streichen.
	 Zimmer in Wohnung streichen
	 Schlafzimmer in Wohnung blau streichen.
#### match statt if für weitere Medienarten
Zeitschrift hinzufügen mit `match` statt `if
Funktion definieren deren parameter das subjekt des match ist. Das kann ein WErt oder eine Variable sein. Die Verscheidenen Möglichkeiten sind cases, in denen angegeben wird was passieren soll.  Der das ersetzt die ganze abfrag mit if, elif und logischem Operator.
aus:
`if medienart == 'Buch':
`        BuchInsert(medium_id)
`    elif medienart == 'Zeitschrift':
`        ZeitschriftInsert(medium_id)
wird: 
`def CheckMedienArt(medienart):
``        match medienart:
`            case "Buch":
`                BuchInsert(medium_id)
`            case "Zeitschrift":
`                ZeitschriftInsert(medium_id)
``            case _:
`                print(" diese Medienart ist nicht bekannt")

Das ist wieder eine Funktion die ausgelagert werden kann.
Andere Programmiersprachen (JS) brauchen ein `braek` damit nach dem erfüllten Fall abgebrochen wird. 
#### Fragen ob ein DS Existiert bevor ich ihn anlege
`exists` Operator testet ob ein Eintrag in einem Subquery existiert. Erliefert `true false` zurück.
`select * from autor
`where exists
Es geht auch mit einer Funktion die eine normalen SQLAbfrage `select`die verschachtelt
Die Parameter werden genau wie beim `insert`übergeben.
Das Ergebnis der Abfrage wird mit `result = mycursor.fetchall` geholt.
Die Ergebnisse werden mit `len(result)` der Variablen AnzahlResult`` zu gewiesen.
Mit einer `if` wird geprüft ob `result` `< 0`  ist
sonst wird der Inhalt des Tabellenfelds für 'AutorID' zurückgegeben.
- [ ] Für Autor noch Firma abfragen
- [ ] Entscheidungsbaum abarbeiten
	- [ ] Medium
	- [ ] Buch
	- [ ] Zeitschrift
	- [ ] Anleitung

